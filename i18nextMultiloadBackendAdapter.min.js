!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).i18nextMultiloadBackendAdapter=e()}(function(){return function o(i,r,a){function u(n,e){if(!r[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);throw(e=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}},i[n][0].call(t.exports,function(e){return u(i[n][1][e]||e)},t,t.exports,o,i,r,a)}return r[n].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,n,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};n=u(n);if(n&&n.has(e))return n.get(e);var t,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var r;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((r=i?Object.getOwnPropertyDescriptor(e,t):null)&&(r.get||r.set)?Object.defineProperty(o,t,r):o[t]=e[t])}o.default=e,n&&n.set(e,o);return o}(e("./utils.js"));function u(e){var n,t;return"function"!=typeof WeakMap?null:(n=new WeakMap,t=new WeakMap,(u=function(e){return e?t:n})(e))}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e=f,(c=[{key:"init",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length?arguments[2]:void 0;if(this.services=e,this.options=o.defaults(n,this.options||{},{debounceInterval:50}),this.debouncedLoad=o.debounce(this.load,this.options.debounceInterval),this.options.backend&&(this.backend=this.backend||o.createClassOnDemand(this.options.backend),this.backend.init(e,this.options.backendOption,t)),this.backend&&!this.backend.readMulti)throw new Error("The wrapped backend does not support the readMulti function.")}},{key:"read",value:function(e,n,t){this.pending.push({language:e,namespace:n,callback:t}),this.debouncedLoad()}},{key:"load",value:function(){var e,n;this.backend&&this.pending.length&&(e=this.pending,this.pending=[],n=e.reduce(function(e,n){return e.languages.indexOf(n.language)<0&&e.languages.push(n.language),e.namespaces.indexOf(n.namespace)<0&&e.namespaces.push(n.namespace),e},{languages:[],namespaces:[]}),this.backend.readMulti(n.languages,n.namespaces,function(n,t){if(n)return e.forEach(function(e){return e.callback(n,t)});e.forEach(function(e){var n=t[e.language]&&t[e.language][e.namespace];e.callback(null,n||{})})}))}},{key:"create",value:function(e,n,t,o){this.backend&&this.backend.create&&this.backend.create(e,n,t,o)}}])&&i(e.prototype,c),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1});var r,c=f;function f(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this,o=f;if(!(t instanceof o))throw new TypeError("Cannot call a class as a function");this.type="backend",this.pending=[],this.init(e,n)}c.type="backend",t.default=c,n.exports=t.default},{"./utils.js":2}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClassOnDemand=function(e){return e?"function"==typeof e?new e:e:null},t.debounce=function(o,i,r){var a;return function(){var e=this,n=arguments,t=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||o.apply(e,n)},i),t&&o.apply(e,n)}},t.defaults=function(t){return o.call(i.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},t.extend=function(t){return o.call(i.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t};var t=[],o=t.forEach,i=t.slice},{}]},{},[1])(1)});